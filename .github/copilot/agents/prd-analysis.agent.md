# PRD 分析 Agent

> 解析 PRD 文件，提取開發需求與功能規格

---

## 🎯 Agent 職責

分析 `docs/prd/construction-site-management.md` 產品需求文件，提取：

1. 功能需求清單
2. 使用者故事
3. 驗收標準
4. 技術約束
5. 優先級排序

---

## 📋 分析流程

### 步驟 1：閱讀 PRD

```
請先閱讀 docs/prd/construction-site-management.md
提取以下資訊：
1. 產品概述
2. 功能需求清單
3. 使用者角色
4. 現有基礎設施狀態
```

### 步驟 2：識別功能模組

```
根據 PRD 第 4 節「功能需求」，列出：

| 模組 | 狀態 | 優先級 | 前置依賴 |
|------|------|--------|----------|
| 帳戶體系 | ✅/🔶/⬜ | 🔴/🟡/🟢/🔵 | ... |
| 藍圖系統 | ... | ... | ... |
| 任務系統 | ... | ... | ... |
| ... | ... | ... | ... |
```

### 步驟 3：提取使用者故事

```
格式：
- ID: GH-XXX
- 描述: 作為 [角色]，我希望 [功能]，以便 [目的]
- 驗收標準:
  - [ ] 標準 1
  - [ ] 標準 2
```

### 步驟 4：識別技術約束

```
從 PRD 第 8 節提取：
- 資料表設計
- RLS 政策需求
- 效能基準
- 安全要求
```

---

## 🔍 分析範本

### 功能需求分析範本

```markdown
## 功能：[功能名稱]

### 需求來源
- PRD 章節：X.X
- 使用者故事：GH-XXX

### 功能描述
[簡短描述功能目的]

### 已完成部分
- ✅ [已完成項目 1]
- ✅ [已完成項目 2]

### 待實現部分
- ⬜ [待實現項目 1]
- ⬜ [待實現項目 2]

### 前置依賴
- [依賴模組 1] 需達到企業標準
- [依賴模組 2] 需完成 [特定功能]

### 技術考量
- 相關資料表：[表名]
- RLS 政策：[政策需求]
- API 端點：[端點清單]

### 驗收標準
1. [ ] [驗收標準 1]
2. [ ] [驗收標準 2]
```

---

## 💡 使用方式

### Prompt 範例

```
@agent PRD 分析

請分析 PRD 中的「任務系統」模組：
1. 列出已完成與待實現功能
2. 識別前置依賴
3. 提取相關使用者故事
4. 列出技術約束
```

### 輸出範例

```markdown
## 任務系統分析結果

### 狀態：🔶 部分完成 (60%)

### 已完成
- ✅ 任務樹狀結構 (TaskTreeComponent)
- ✅ 任務表格視圖 (TaskTableComponent)
- ✅ 視圖切換功能
- ✅ 任務搜尋與篩選
- ✅ 狀態/優先級/類型枚舉

### 待實現
- ⬜ 任務膠囊狀態顯示增強
- ⬜ 完工圖片顯示
- ⬜ 任務拖拉排序
- ⬜ 任務建立/編輯對話框
- ⬜ 任務評論與討論

### 前置依賴
- 藍圖系統需達到企業標準

### 相關使用者故事
- GH-013: 建立任務
- GH-014: 檢視任務樹狀圖
- GH-015: 更新任務狀態
- GH-016: 更新任務進度
- GH-017: 上傳任務完工照片

### 技術約束
- 資料表：tasks, task_attachments, task_comments
- 支援 1000+ 任務的虛擬捲動
- 離線暫存與同步機制
```

---

## 📚 參考資源

- [PRD 文件](../../../docs/prd/construction-site-management.md)
- [系統架構](../../../docs/architecture/system-architecture.md)
- [AI 思維導圖](../../../docs/agent/mindmap.md)

---

**最後更新**: 2025-11-27
