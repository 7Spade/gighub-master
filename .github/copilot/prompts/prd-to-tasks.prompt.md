# PRD åˆ†æ‹†ä»»å‹™æ¨¹ Prompt

> å°‡ PRD éœ€æ±‚åˆ†æ‹†ç‚ºå¯åŸ·è¡Œçš„ä»»å‹™æ¨¹çµæ§‹

---

## ğŸ¯ ç”¨é€”

å°‡ PRD ç”¢å“éœ€æ±‚æ–‡ä»¶åˆ†æ‹†ç‚ºï¼š

- é–‹ç™¼ä»»å‹™æ¨¹
- å­ä»»å‹™èˆ‡é©—æ”¶æ¨™æº–
- ä¾è³´é—œä¿‚
- å„ªå…ˆç´šæ’åº
- å·¥æ™‚ä¼°ç®—

---

## ğŸ“‹ Prompt æ¨¡æ¿

```
è«‹å°‡ä»¥ä¸‹ PRD éœ€æ±‚åˆ†æ‹†ç‚ºä»»å‹™æ¨¹ï¼š

## PRD ç« ç¯€
[PRD ç« ç¯€ç·¨è™Ÿèˆ‡æ¨™é¡Œ]

## éœ€æ±‚å…§å®¹
[éœ€æ±‚æè¿°]

## åˆ†æ‹†è¦æ±‚
- å–®ä¸€ä»»å‹™ä¸è¶…é 8 å°æ™‚
- æ¯å€‹ä»»å‹™æœ‰æ˜ç¢ºçš„é©—æ”¶æ¨™æº–
- æ¨™æ³¨ä»»å‹™ä¾è³´é—œä¿‚
- æ¨™æ³¨å„ªå…ˆç´š (P0-P3)

## è¼¸å‡ºæ ¼å¼
ä½¿ç”¨ Markdown ä»»å‹™æ¨¹æ ¼å¼
```

---

## ğŸ“ ç¯„ä¾‹

### è¼¸å…¥

```
## PRD ç« ç¯€
4.5 ä»»å‹™ç³»çµ±

## éœ€æ±‚å…§å®¹
ä»»å‹™ç³»çµ±ï¼ˆä¸»æ ¸å¿ƒæ¨¡çµ„ï¼‰éœ€è¦å®Œæˆä»¥ä¸‹åŠŸèƒ½ï¼š

å·²å®Œæˆï¼š
- ä»»å‹™æ¨¹ç‹€çµæ§‹ (TaskTreeComponent)
- ä»»å‹™è¡¨æ ¼è¦–åœ– (TaskTableComponent)
- è¦–åœ–åˆ‡æ›åŠŸèƒ½
- ä»»å‹™æœå°‹èˆ‡ç¯©é¸
- ç‹€æ…‹/å„ªå…ˆç´š/é¡å‹æšèˆ‰

å¾…å¯¦ç¾ï¼š
- ä»»å‹™è† å›Šç‹€æ…‹é¡¯ç¤ºå¢å¼·
- å®Œå·¥åœ–ç‰‡é¡¯ç¤º
- ä»»å‹™æ‹–æ‹‰æ’åº
- ä»»å‹™å»ºç«‹/ç·¨è¼¯å°è©±æ¡†
- ä»»å‹™è©•è«–èˆ‡è¨è«–

## åˆ†æ‹†è¦æ±‚
- å–®ä¸€ä»»å‹™ä¸è¶…é 8 å°æ™‚
- æ¯å€‹ä»»å‹™æœ‰æ˜ç¢ºçš„é©—æ”¶æ¨™æº–
- æ¨™æ³¨ä»»å‹™ä¾è³´é—œä¿‚
- æ¨™æ³¨å„ªå…ˆç´š (P0-P3)
```

### è¼¸å‡º

```markdown
# ä»»å‹™ç³»çµ±åŠŸèƒ½é–‹ç™¼ä»»å‹™æ¨¹

## ç¸½è¦½

| æŒ‡æ¨™ | æ•¸å€¼ |
|------|------|
| ç¸½ä»»å‹™æ•¸ | 15 |
| ç¸½å·¥æ™‚ä¼°ç®— | 72 å°æ™‚ |
| P0 ä»»å‹™ | 3 |
| P1 ä»»å‹™ | 5 |
| P2 ä»»å‹™ | 5 |
| P3 ä»»å‹™ | 2 |

---

## ä»»å‹™æ¨¹

### ğŸ“‹ TASK-001: ä»»å‹™å»ºç«‹/ç·¨è¼¯åŠŸèƒ½ [P0]
> ä½¿ç”¨è€…å¯ä»¥é€éå°è©±æ¡†å»ºç«‹å’Œç·¨è¼¯ä»»å‹™

**é ä¼°å·¥æ™‚**: 16 å°æ™‚  
**ä¾è³´**: ç„¡  
**è² è²¬è§’è‰²**: å‰ç«¯å·¥ç¨‹å¸«

#### å­ä»»å‹™

##### TASK-001-1: å»ºç«‹ä»»å‹™å°è©±æ¡†å…ƒä»¶ (4h)
- [ ] å»ºç«‹ `task-form-dialog.component.ts`
- [ ] å¯¦ä½œè¡¨å–®æ¬„ä½ï¼ˆæ¨™é¡Œã€æè¿°ã€ç‹€æ…‹ã€å„ªå…ˆç´šã€é¡å‹ï¼‰
- [ ] å¯¦ä½œæ—¥æœŸé¸æ“‡å™¨ï¼ˆé–‹å§‹æ—¥æœŸã€æˆªæ­¢æ—¥æœŸï¼‰
- [ ] å¯¦ä½œè² è²¬äººé¸æ“‡å™¨

**é©—æ”¶æ¨™æº–**:
- å°è©±æ¡†å¯æ­£å¸¸é–‹å•Ÿ/é—œé–‰
- è¡¨å–®é©—è­‰æ­£ç¢ºï¼ˆå¿…å¡«æ¬„ä½ã€æ—¥æœŸé‚è¼¯ï¼‰
- æ”¯æ´éµç›¤æ“ä½œ (Enter é€å‡º, Esc é—œé–‰)

##### TASK-001-2: å¯¦ä½œä»»å‹™å»ºç«‹ API æ•´åˆ (4h)
- [ ] æ“´å±• `TaskRepository.create()` æ–¹æ³•
- [ ] åœ¨ `TaskStore` æ–°å¢ `createTask()` æ–¹æ³•
- [ ] è™•ç†å»ºç«‹æˆåŠŸ/å¤±æ•—å›é¥‹

**é©—æ”¶æ¨™æº–**:
- å»ºç«‹ä»»å‹™æˆåŠŸå¾Œè‡ªå‹•æ›´æ–°åˆ—è¡¨
- éŒ¯èª¤è¨Šæ¯æ­£ç¢ºé¡¯ç¤º
- Loading ç‹€æ…‹æ­£ç¢ºé¡¯ç¤º

##### TASK-001-3: å¯¦ä½œä»»å‹™ç·¨è¼¯åŠŸèƒ½ (4h)
- [ ] è¤‡ç”¨å°è©±æ¡†å…ƒä»¶ï¼Œæ”¯æ´ç·¨è¼¯æ¨¡å¼
- [ ] å¯¦ä½œ `TaskRepository.update()` æ–¹æ³•
- [ ] åœ¨ `TaskStore` æ–°å¢ `updateTask()` æ–¹æ³•

**é©—æ”¶æ¨™æº–**:
- é»æ“Šä»»å‹™å¯é–‹å•Ÿç·¨è¼¯å°è©±æ¡†
- ç·¨è¼¯å¾Œè³‡æ–™æ­£ç¢ºæ›´æ–°
- æ”¯æ´å–æ¶ˆç·¨è¼¯

##### TASK-001-4: å–®å…ƒæ¸¬è©¦ (4h)
- [ ] å°è©±æ¡†å…ƒä»¶æ¸¬è©¦
- [ ] Store æ–¹æ³•æ¸¬è©¦
- [ ] Repository æ–¹æ³•æ¸¬è©¦

**é©—æ”¶æ¨™æº–**:
- æ¸¬è©¦è¦†è“‹ç‡ > 80%
- é‚Šç•Œæ¢ä»¶æ¸¬è©¦å®Œæ•´

---

### ğŸ“‹ TASK-002: ä»»å‹™è©•è«–ç³»çµ± [P0]
> ä½¿ç”¨è€…å¯ä»¥åœ¨ä»»å‹™ä¸‹æ–¹æ–°å¢ã€ç·¨è¼¯ã€åˆªé™¤è©•è«–

**é ä¼°å·¥æ™‚**: 16 å°æ™‚  
**ä¾è³´**: TASK-001  
**è² è²¬è§’è‰²**: å‰ç«¯å·¥ç¨‹å¸«

#### å­ä»»å‹™

##### TASK-002-1: è³‡æ–™è¡¨èˆ‡ RLS è¨­è¨ˆ (2h)
- [ ] å»ºç«‹ `task_comments` è³‡æ–™è¡¨
- [ ] è¨­è¨ˆ RLS æ”¿ç­–

**é©—æ”¶æ¨™æº–**:
- Migration è…³æœ¬æ­£ç¢ºåŸ·è¡Œ
- RLS æ”¿ç­–æ¸¬è©¦é€šé

##### TASK-002-2: Repository èˆ‡ Store (4h)
- [ ] å»ºç«‹ `TaskCommentRepository`
- [ ] å»ºç«‹ `TaskCommentStore`

**é©—æ”¶æ¨™æº–**:
- CRUD æ“ä½œæ­£å¸¸
- ç‹€æ…‹ç®¡ç†æ­£ç¢º

##### TASK-002-3: è©•è«–åˆ—è¡¨å…ƒä»¶ (4h)
- [ ] å»ºç«‹ `task-comment-list.component.ts`
- [ ] å¯¦ä½œè©•è«–é¡¯ç¤º
- [ ] å¯¦ä½œæ–°å¢è©•è«–

**é©—æ”¶æ¨™æº–**:
- è©•è«–æ­£ç¢ºé¡¯ç¤º
- æ–°å¢è©•è«–å³æ™‚æ›´æ–°

##### TASK-002-4: è©•è«–ç·¨è¼¯èˆ‡åˆªé™¤ (4h)
- [ ] å¯¦ä½œç·¨è¼¯è‡ªå·±çš„è©•è«–
- [ ] å¯¦ä½œåˆªé™¤è©•è«–

**é©—æ”¶æ¨™æº–**:
- åªèƒ½ç·¨è¼¯/åˆªé™¤è‡ªå·±çš„è©•è«–
- ç¢ºèªåˆªé™¤å°è©±æ¡†

##### TASK-002-5: @æåŠåŠŸèƒ½ (2h)
- [ ] å¯¦ä½œ @ è§¸ç™¼é¸å–®
- [ ] å¯¦ä½œç”¨æˆ¶æœå°‹
- [ ] å„²å­˜æåŠç”¨æˆ¶

**é©—æ”¶æ¨™æº–**:
- @ è¼¸å…¥æ™‚é¡¯ç¤ºç”¨æˆ¶åˆ—è¡¨
- é¸æ“‡ç”¨æˆ¶å¾Œè‡ªå‹•å¡«å…¥

---

### ğŸ“‹ TASK-003: ä»»å‹™æ‹–æ‹‰æ’åº [P1]
> ä½¿ç”¨è€…å¯ä»¥é€éæ‹–æ‹‰èª¿æ•´ä»»å‹™é †åº

**é ä¼°å·¥æ™‚**: 8 å°æ™‚  
**ä¾è³´**: ç„¡  
**è² è²¬è§’è‰²**: å‰ç«¯å·¥ç¨‹å¸«

#### å­ä»»å‹™

##### TASK-003-1: æ•´åˆ CDK Drag Drop (4h)
- [ ] å®‰è£ @angular/cdk
- [ ] æ•´åˆåˆ°ä»»å‹™æ¨¹å…ƒä»¶
- [ ] æ•´åˆåˆ°ä»»å‹™è¡¨æ ¼å…ƒä»¶

**é©—æ”¶æ¨™æº–**:
- æ‹–æ‹‰æ“ä½œæµæš¢
- æ”¯æ´è·¨å±¤ç´šæ‹–æ‹‰

##### TASK-003-2: æ’åºæŒä¹…åŒ– (4h)
- [ ] æ–°å¢ `sort_order` æ¬„ä½
- [ ] å¯¦ä½œæ‰¹é‡æ›´æ–°æ’åº API
- [ ] æ¨‚è§€æ›´æ–° + éŒ¯èª¤å›æ»¾

**é©—æ”¶æ¨™æº–**:
- æ’åºè®Šæ›´å³æ™‚åæ˜ 
- é‡æ–°æ•´ç†å¾Œé †åºæ­£ç¢º
- éŒ¯èª¤æ™‚å›æ»¾åˆ°åŸé †åº

---

### ğŸ“‹ TASK-004: ä»»å‹™è† å›Šç‹€æ…‹å¢å¼· [P1]
> å¢å¼·ä»»å‹™ç‹€æ…‹é¡¯ç¤ºï¼ŒåŒ…å«é€²åº¦ã€å­ä»»å‹™æ•¸é‡ç­‰

**é ä¼°å·¥æ™‚**: 8 å°æ™‚  
**ä¾è³´**: ç„¡  
**è² è²¬è§’è‰²**: å‰ç«¯å·¥ç¨‹å¸«

#### å­ä»»å‹™

##### TASK-004-1: è† å›Šå…ƒä»¶è¨­è¨ˆ (4h)
- [ ] è¨­è¨ˆè† å›Šè¦–è¦ºæ¨£å¼
- [ ] å¯¦ä½œé€²åº¦ç’°é¡¯ç¤º
- [ ] å¯¦ä½œå­ä»»å‹™è¨ˆæ•¸

**é©—æ”¶æ¨™æº–**:
- è¦–è¦ºè¨­è¨ˆç¬¦åˆè¦ç¯„
- éŸ¿æ‡‰å¼é©é…

##### TASK-004-2: æ•´åˆåˆ°ç¾æœ‰å…ƒä»¶ (4h)
- [ ] æ•´åˆåˆ° TaskTreeComponent
- [ ] æ•´åˆåˆ° TaskTableComponent
- [ ] æ•´åˆåˆ° TaskCardComponent

**é©—æ”¶æ¨™æº–**:
- å„è¦–åœ–é¡¯ç¤ºä¸€è‡´
- æ•ˆèƒ½ç„¡æ˜é¡¯å½±éŸ¿

---

### ğŸ“‹ TASK-005: å®Œå·¥åœ–ç‰‡é¡¯ç¤º [P1]
> ä»»å‹™å®Œå·¥å¾Œé¡¯ç¤ºä¸Šå‚³çš„å®Œå·¥ç…§ç‰‡

**é ä¼°å·¥æ™‚**: 8 å°æ™‚  
**ä¾è³´**: TASK-001  
**è² è²¬è§’è‰²**: å‰ç«¯å·¥ç¨‹å¸«

#### å­ä»»å‹™

##### TASK-005-1: åœ–ç‰‡ä¸Šå‚³åŠŸèƒ½ (4h)
- [ ] å¯¦ä½œåœ–ç‰‡ä¸Šå‚³ API
- [ ] æ•´åˆ Supabase Storage
- [ ] ç¸®åœ–ç”Ÿæˆ

**é©—æ”¶æ¨™æº–**:
- æ”¯æ´å¤šåœ–ä¸Šå‚³
- åœ–ç‰‡å£“ç¸®åˆ°åˆç†å¤§å°

##### TASK-005-2: åœ–ç‰‡é è¦½èˆ‡ç®¡ç† (4h)
- [ ] å¯¦ä½œåœ–ç‰‡é è¦½å…ƒä»¶
- [ ] å¯¦ä½œåœ–ç‰‡åˆªé™¤
- [ ] å¯¦ä½œåœ–ç‰‡æ’åº

**é©—æ”¶æ¨™æº–**:
- åœ–ç‰‡è¼‰å…¥æµæš¢
- æ”¯æ´æ”¾å¤§æª¢è¦–

---

## ä¾è³´é—œä¿‚åœ–

```mermaid
graph TD
    TASK-001[ä»»å‹™å»ºç«‹/ç·¨è¼¯] --> TASK-002[ä»»å‹™è©•è«–]
    TASK-001 --> TASK-005[å®Œå·¥åœ–ç‰‡]
    TASK-003[æ‹–æ‹‰æ’åº]
    TASK-004[è† å›Šç‹€æ…‹]
```

---

## å„ªå…ˆç´šçŸ©é™£

| å„ªå…ˆç´š | ä»»å‹™ | å·¥æ™‚ |
|--------|------|------|
| P0 | TASK-001, TASK-002 | 32h |
| P1 | TASK-003, TASK-004, TASK-005 | 24h |
| P2 | (å…¶ä»–å¾…è£œå……) | - |
| P3 | (å…¶ä»–å¾…è£œå……) | - |

---

## å»ºè­°é–‹ç™¼é †åº

1. **ç¬¬ä¸€é€±**: TASK-001 (ä»»å‹™å»ºç«‹/ç·¨è¼¯)
2. **ç¬¬äºŒé€±**: TASK-002 (ä»»å‹™è©•è«–)
3. **ç¬¬ä¸‰é€±**: TASK-003 (æ‹–æ‹‰æ’åº) + TASK-004 (è† å›Šç‹€æ…‹)
4. **ç¬¬å››é€±**: TASK-005 (å®Œå·¥åœ–ç‰‡)
```

---

## ğŸ“š åƒè€ƒè³‡æº

- [PRD æ–‡ä»¶](../../../docs/prd/construction-site-management.md)
- [ç³»çµ±æ¶æ§‹](../../../docs/architecture/system-architecture.md)
- [AI æ€ç¶­å°åœ–](../../../docs/agent/mindmap.md)

---

**æœ€å¾Œæ›´æ–°**: 2025-11-27
