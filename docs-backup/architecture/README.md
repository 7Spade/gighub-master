# 📐 系統架構

> GigHub 工地施工進度追蹤管理系統的架構設計文件

---

## 📁 目錄

- [系統架構總覽](./system-architecture.md) - 完整架構設計圖
- [資料流設計](./data-flow.md) - 資料流與狀態管理
- [架構決策記錄 (ADR)](./adr/README.md) - 重要技術決策
- [架構圖](./diagrams/) - 視覺化架構圖

---

## 🏗️ 三層架構

```
┌─────────────────────────────────────────────────────────────────┐
│                    基礎層 (Foundation Layer)                     │
│   帳戶體系 │ 認證授權 │ 組織管理 │ 團隊管理 │ Bot 管理           │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│                    容器層 (Container Layer)                      │
│   藍圖系統 │ 權限控制 │ 事件總線 │ 搜尋引擎                      │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│                    業務層 (Business Layer)                       │
│   任務模組 │ 日誌模組 │ 品質驗收 │ 問題追蹤 │ 檔案管理           │
└─────────────────────────────────────────────────────────────────┘
```

---

## 🔧 技術棧

| 層級 | 技術 | 說明 |
|------|------|------|
| 前端 | Angular 20 + ng-alain | SPA 應用 |
| 狀態 | Angular Signals | 響應式狀態管理 |
| UI | ng-zorro-antd | Ant Design 元件庫 |
| 後端 | Supabase | BaaS (Postgres + Auth + Storage) |
| 安全 | RLS | Row Level Security |

---

## 📊 關鍵設計決策

| 決策 | 選擇 | 原因 |
|------|------|------|
| 狀態管理 | Signals | Angular 官方方案，效能優異 |
| 資料存取 | Repository 模式 | 解耦資料來源，易於測試 |
| 認證 | Supabase Auth | 內建 JWT、OAuth 支援 |
| 權限 | RLS + RBAC | 資料庫層級安全保障 |

---

**最後更新**: 2025-12-02
