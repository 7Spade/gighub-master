# ⚠️ 已知問題清單

> 最後更新: 2025-12-04

---

## 🔴 關鍵問題 (Critical)

### 1. 藍圖介面分類不完整

**問題描述**: 藍圖概覽頁面中，財務相關資訊（總預算、已支出、已付款、剩餘預算）目前顯示在概覽頁面頂部，而非財務 Tab 中。

**影響**: 
- 權限規劃困難
- 無法針對財務資訊單獨設定存取權限
- 資訊架構不清晰

**建議修復**:
- 將財務統計卡片移至「財務」Tab
- 概覽頁面保留基本藍圖資訊
- 調整權限系統以支援財務模組權限

**相關檔案**: `src/app/routes/blueprint/overview/overview.component.ts`

---

### 2. 藍圖編輯功能缺失

**問題描述**: 目前藍圖建立後無法編輯，編輯按鈕顯示「編輯功能開發中」訊息。

**影響**:
- 無法修正錯誤輸入的藍圖資訊
- 無法更新藍圖設定
- 無法啟用/停用模組

**建議修復**:
- 實現藍圖編輯抽屜/頁面
- 支援基本資訊編輯
- 支援模組設定變更

**相關檔案**: `src/app/routes/blueprint/overview/overview.component.ts`

---

### 3. 藍圖概覽未達生產標準

**問題描述**: 藍圖概覽頁面的功能和設計尚未達到生產環境標準。

**具體問題**:
- 活動時間軸顯示「暫無活動記錄」佔位符
- 部分統計資料使用假資料
- 財務資訊與概覽資訊混合

**影響**:
- 用戶體驗不佳
- 功能不完整
- 無法正式上線使用

**建議修復**:
- 整合時間軸服務
- 確保所有統計資料來自真實數據
- 重新設計資訊架構

---

## 🟡 中等問題 (Medium)

### 4. 任務管理使用 Mock 資料

**問題描述**: 當真實資料載入失敗時，任務管理會使用 Mock 資料作為後備。

**影響**:
- 開發環境與生產環境行為不一致
- 可能導致測試困難

**相關檔案**: `src/app/routes/blueprint/tasks/tasks.component.ts`

```typescript
async loadTasks(): Promise<void> {
  try {
    await this.taskService.loadTasksByBlueprint(this.id());
  } catch {
    // If no real data, load mock data for development
    this.taskService.loadMockData(this.id());
  }
}
```

---

### 5. 權限系統未完全實現

**問題描述**: 權限系統基礎已完成，但部分功能尚未實現。

**缺失功能**:
- 權限快取策略
- 動態權限計算 (基於多角色)
- 資源級別權限檢查

**影響**:
- 無法精細控制權限
- 效能可能受影響

---

### 6. 搜尋功能未完全整合

**問題描述**: 搜尋服務已實現，但未完全整合到 UI。

**缺失功能**:
- 全域搜尋面板
- 關聯搜尋
- 權限感知過濾

---

### 7. 通知系統未完全實現

**問題描述**: 通知服務已實現，但 UI 和進階功能未完成。

**缺失功能**:
- 通知中心 UI
- 排程通知
- 多頻道路由

---

## 🟢 輕微問題 (Minor)

### 8. 時間軸頁面顯示佔位符

**問題描述**: 藍圖概覽的「活動」Tab 顯示「暫無活動記錄」佔位符。

**影響**: 用戶無法查看藍圖活動歷史

---

### 9. 成員資訊顯示 account_id 而非名稱

**問題描述**: 成員列表顯示 `account_id` 而非用戶名稱。

**相關檔案**: `src/app/routes/blueprint/overview/overview.component.ts`

```html
<span>{{ member.account_id }}</span>
```

---

### 10. 日期格式不一致

**問題描述**: 部分頁面使用 `toLocaleDateString`，部分使用 Angular DatePipe，格式不統一。

---

### 11. 錯誤處理訊息中英混用

**問題描述**: 部分錯誤訊息使用中文，部分使用英文。

---

## 🔧 技術債務 (Technical Debt)

### 12. 大型組件檔案

**問題描述**: 部分組件檔案過大，需要拆分。

**相關檔案**:
- `src/app/routes/blueprint/tasks/tasks.component.ts` (681 行)
- `src/app/routes/blueprint/overview/overview.component.ts` (859 行)
- `src/app/shared/services/search/search.service.ts` (600 行)

**建議**: 拆分為多個子組件或服務

---

### 13. 服務間依賴複雜

**問題描述**: 部分服務之間存在複雜的依賴關係。

---

### 14. 缺乏單元測試

**問題描述**: 目前專案缺乏足夠的單元測試覆蓋。

**建議覆蓋率**:
- Store: 100%
- Service: 80%+
- Component: 60%+
- Utils: 100%

---

## 📊 問題統計

| 嚴重程度 | 數量 | 說明                 |
| -------- | ---- | -------------------- |
| 🔴 關鍵  | 3    | 需要立即修復         |
| 🟡 中等  | 4    | 影響功能，需儘快修復 |
| 🟢 輕微  | 4    | 可延後修復           |
| 🔧 技術債 | 3    | 需要重構             |

---

## 📝 問題追蹤

| 問題編號 | 狀態   | 負責人 | 預計完成日期 |
| -------- | ------ | ------ | ------------ |
| #1       | 待處理 | -      | -            |
| #2       | 待處理 | -      | -            |
| #3       | 待處理 | -      | -            |
| #4       | 待處理 | -      | -            |
| #5       | 待處理 | -      | -            |
| #6       | 待處理 | -      | -            |
| #7       | 待處理 | -      | -            |
| #8       | 待處理 | -      | -            |
| #9       | 待處理 | -      | -            |
| #10      | 待處理 | -      | -            |
| #11      | 待處理 | -      | -            |
| #12      | 待處理 | -      | -            |
| #13      | 待處理 | -      | -            |
| #14      | 待處理 | -      | -            |

---

**總計問題數量**: 14 項
